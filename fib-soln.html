<!DOCTYPE html>
<html>
<head>
  <title>Fibonacci Events</title>
  <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
  <script>
    var computeFibList = function(list) {
      var i = list.shift();
      $('#fib-list').append('<span>begin to compute fib(' + i + ') ... </span>');
      setTimeout(function(){
        $('#fib-list').append('<span>' + fib(i) + '</span><br />');
        if (list.length > 0) {
          setTimeout(function() {
            computeFibList(list);
          }, 5000);
        }
      }, 0);
    };

    /////////////////////////////////
    // DO NOT TOUCH THE CODE BELOW!
    /////////////////////////////////

    var getRandomArray = function() {
      var x = [];
      for (var i = 0; i < 10; i++) {
        x.push(33 + Math.floor(Math.random() * 10));
      }
      return x;
    };

    var fib = function(n) {
      if (n === 1 || n === 2) {
        return 1;
      }
      return fib(n - 1) + fib(n - 2);
    };

    $(document).ready(function() {
      var x = getRandomArray();
      $('#num-list').text(x.toString());
      setTimeout(function() {
        computeFibList(x);
      }, 0);
    });
  </script>

</head>
<body>
  <!-- You should not have to change this HTML -->
  <div>Computing fib for: <span id="num-list"></span></div>
  <div id="fib-list"></div>
</body>
</html>
